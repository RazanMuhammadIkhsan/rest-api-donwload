import { Success } from "./function.js";

function getQueryFunction(func) {
  const fnStr = func.toString().replace(/\/\*.*?\*\/|\/\/.*$/g, "");
  const result = fnStr
    .slice(fnStr.indexOf("(") + 1, fnStr.indexOf(")"))
    .match(/([^\s,]+)/g);
  return new Success({
    lengths: result === null ? "" : result.length,
    params: result === null ? [] : result,
  });
}

export { getQueryFunction };
